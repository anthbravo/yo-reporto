<div class="background">
  <div class="header">
    <button id="btn-menu" mat-icon-button color="primary" (click)="goToCamera()">
      <mat-icon>menu</mat-icon>
    </button>
    <div class="header-text">
      <h2>Yo Reporto</h2>
    </div>
  </div>

  <mat-list>

    <div class="Busqueda-container">

      <h3 matSubheader>Mis Reportes</h3>
      <mat-form-field>
        <mat-select placeholder="Estado" (selectionChange)="filterState($event)">
          <mat-option *ngFor="let state of states" [value]="state">
            {{state}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="listas" *ngFor="let report of reports | async">
      <div *ngIf="report.state=='pendiente' && filterForState=='pendiente'">
        <mat-list-item>
          <img *ngIf="report.image" mat-list-avatar [src]="report.image" alt="">
          <img *ngIf="!report.image" mat-list-avatar [src]="DEFAULT_PICTURE" alt="">
          <span mat-line>Tipo de Reporte: {{report.typeReport}}</span>
          <span mat-line>Placa: {{report.plate}}</span>
          <span mat-line>Estado: {{report.state}}</span>
          <span mat-line>Fecha: {{report.date | date: "short"}}</span>
        </mat-list-item>
      </div>
      <div *ngIf="report.state=='aceptado' && filterForState=='aceptado'">
        <mat-list-item>
          <img *ngIf="report.image" mat-list-avatar [src]="report.image" alt="">
          <img *ngIf="!report.image" mat-list-avatar [src]="DEFAULT_PICTURE" alt="">
          <span mat-line>Tipo de Reporte: {{report.typeReport}}</span>
          <span mat-line>Placa: {{report.plate}}</span>
          <span mat-line>Estado: {{report.state}}</span>
          <span mat-line>Fecha: {{report.date | date: "short"}}</span>
        </mat-list-item>
      </div>
      <div *ngIf="report.state=='rechazado' && filterForState=='rechazado'">
        <mat-list-item>
          <img *ngIf=" report.image " mat-list-avatar [src]="report.image " alt=" ">
          <img *ngIf="!report.image " mat-list-avatar [src]="DEFAULT_PICTURE " alt=" ">
          <span mat-line>Tipo de Reporte: {{report.typeReport}}</span>
          <span mat-line>Placa: {{report.plate}}</span>
          <span mat-line>Estado: {{report.state}}</span>
          <span mat-line>Fecha: {{report.date | date: "short"}}</span>
        </mat-list-item>
      </div>
      <div *ngIf="filterForState=='todos'">
        <mat-list-item>
          <img *ngIf=" report.image " mat-list-avatar [src]="report.image " alt=" ">
          <img *ngIf="!report.image " mat-list-avatar [src]="DEFAULT_PICTURE " alt=" ">
          <span mat-line>Tipo de Reporte: {{report.typeReport}}</span>
          <span mat-line>Placa: {{report.plate}}</span>
          <span mat-line>Estado: {{report.state}}</span>
          <span mat-line>Fecha: {{report.date | date: "short"}}</span>
        </mat-list-item>
      </div>
    </div>
  </mat-list>

</div>